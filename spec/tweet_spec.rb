# coding: utf-8

require './tweet'

TITLES = [
  '01234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  'あいうえおあいうえお0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '矢野 弘展さん アプリ・ゲーム・コンテンツ・・・これらを作る上で"ディレクションや構成"は絶対に欠かすことはできない重要な部分です。 しっかりとした企画・構成をディレクションしていく、これが成功への鍵。 多彩な経験を元に生み出された"鍵"を伝授して頂きます。',
]

describe Tweet, ".to_tweet" do
  TITLES.each do |title|
    it "doesn't exceed tweet length limit" do
      tweet = Tweet.to_tweet({
        'starts_at' => Time.now,
        'title' => title,
        'hashtag' => 'testtest',
        'url' => 'http://t.co/RgIALU3h',
        })

      expect(tweet.size).to be <= 140
    end
  end
end
