# coding: utf-8

require './tweet'

TITLES = [
  '01234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  '01234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
  'あいうえおあいうえお0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789',
]

describe Tweet, ".to_tweet" do
  TITLES.each do |title|
    it "doesn't exceed tweet length limit" do
      tweet = Tweet.to_tweet({
        'starts_at' => Time.now,
        'title' => title,
        'hashtag' => 'testtest',
        'url' => 'http://t.co/RgIALU3h',
        })

      expect(tweet.size).to be <= 140
    end
  end
end
